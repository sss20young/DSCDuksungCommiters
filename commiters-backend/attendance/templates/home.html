{% extends 'base.html' %}

{% load static %}
{% load socialaccount %}
{% providers_media_js %}

{% block content %}

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://cdn.rawgit.com/kimmobrunfeldt/progressbar.js/0.9.0/dist/progressbar.js"></script>

<body>

{% for list in users %}
<div class="nickname" id="{{ list.user_id }}" pk="{{ list.userlogin }}">
    <p id="{{ list.userlogin }}"></p>
</div>
{% endfor %}

{% if user.is_authenticated %}
<div class="row" id="attend_form">
    <form action="/attend" method="post">
        <button type="submit" value="참여하기"  class="btn btn-outline-danger">DSC 덕성 커미터스 1회 참여하기</button>
    </form>
</div>
{% endif %}

{% for commit_user, commit_count in dict.items %}
<div class="committer" id="{{ commit_user }}" pk="{{ commit_count }}">
    {{ commit_user }}
    {{ commit_count }}
</div>
{% endfor %}

<div class="row">
    <div class="column main">
        <h2>DSC 덕성 커미터스 1회 참가자들</h2>
        <div class="users">
            {% for list in users %}
            <div class="user-profile">
                <img src="{{ list.profile }}" alt="avartar url" /> <br>
                <p>{{ list.userlogin }}</p>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="column side">
        <h2>진행률</h2>
        <div id="progress"></div>
        <div id="circle-progress"></div>
        <div id="attend_noshow_div"></div>
        <div id="container"></div>
    </div>
</div>

<div class="row">
    <div class="column chart">
        <h2>오늘의 출석부</h2>
        <table>
            <tr id="table-title">
                <td>User & Date</td>
                <td>11/2</td>
                <td>11/3</td>
                <td>11/4</td>
                <td>11/5</td>
                <td>11/6</td>
                <td>11/7</td>
                <td>11/8</td>
                <td>11/9</td>
                <td>11/10</td>
                <td>11/11</td>
                <td>11/12</td>
                <td>11/13</td>
                <td>11/14</td>
                <td>11/15</td>
            </tr>
            {% for list in users %}
            <tr id="{{list.userlogin}}">
                <td>{{ list.userlogin }}</td>
            </tr>
            {% endfor %}
            <tr id="attendees"></tr>
        </table>
    </div>
</div>
</body>

<script src="{% static 'js/script.js' %}"></script>

{% endblock %}